{"abi":[{"type":"function","name":"checkAccountMaxTxValueByRiskScore","inputs":[{"name":"ruleId","type":"uint32","internalType":"uint32"},{"name":"_valueTransactedInPeriod","type":"uint128","internalType":"uint128"},{"name":"txValue","type":"uint128","internalType":"uint128"},{"name":"lastTxDate","type":"uint64","internalType":"uint64"},{"name":"_riskScore","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"","type":"uint128","internalType":"uint128"}],"stateMutability":"view"},{"type":"function","name":"checkAccountMaxValueByRiskScore","inputs":[{"name":"_ruleId","type":"uint32","internalType":"uint32"},{"name":"_toAddress","type":"address","internalType":"address"},{"name":"_riskScore","type":"uint8","internalType":"uint8"},{"name":"_totalValueTo","type":"uint128","internalType":"uint128"},{"name":"_amountToTransfer","type":"uint128","internalType":"uint128"}],"outputs":[],"stateMutability":"view"},{"type":"function","name":"getAccountMaxTxValueByRiskScore","inputs":[{"name":"_index","type":"uint32","internalType":"uint32"}],"outputs":[{"name":"","type":"tuple","internalType":"struct IApplicationRules.AccountMaxTxValueByRiskScore","components":[{"name":"maxValue","type":"uint48[]","internalType":"uint48[]"},{"name":"riskScore","type":"uint8[]","internalType":"uint8[]"},{"name":"period","type":"uint16","internalType":"uint16"},{"name":"startTime","type":"uint64","internalType":"uint64"}]}],"stateMutability":"view"},{"type":"function","name":"getAccountMaxValueByRiskScore","inputs":[{"name":"_index","type":"uint32","internalType":"uint32"}],"outputs":[{"name":"","type":"tuple","internalType":"struct IApplicationRules.AccountMaxValueByRiskScore","components":[{"name":"riskScore","type":"uint8[]","internalType":"uint8[]"},{"name":"maxValue","type":"uint48[]","internalType":"uint48[]"}]}],"stateMutability":"view"},{"type":"function","name":"getTotalAccountMaxTxValueByRiskScore","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"function","name":"getTotalAccountMaxValueByRiskScore","inputs":[],"outputs":[{"name":"","type":"uint32","internalType":"uint32"}],"stateMutability":"view"},{"type":"error","name":"CantMixPeriodicAndNonPeriodic","inputs":[]},{"type":"error","name":"IndexOutOfRange","inputs":[]},{"type":"error","name":"InputArraysMustHaveSameLength","inputs":[]},{"type":"error","name":"InputArraysSizesNotValid","inputs":[]},{"type":"error","name":"InvalidOracleType","inputs":[{"name":"_type","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InvalidRuleInput","inputs":[]},{"type":"error","name":"InvertedLimits","inputs":[]},{"type":"error","name":"NotEnoughBalance","inputs":[]},{"type":"error","name":"OverMaxAccValueByRiskScore","inputs":[]},{"type":"error","name":"OverMaxTxValueByRiskScore","inputs":[{"name":"riskScore","type":"uint8","internalType":"uint8"},{"name":"maxTxSize","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"PeriodExceeds5Years","inputs":[]},{"type":"error","name":"RuleDoesNotExist","inputs":[]},{"type":"error","name":"RuleDoesNotExist","inputs":[]},{"type":"error","name":"ValueOutOfRange","inputs":[{"name":"_value","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"WrongArrayOrder","inputs":[]},{"type":"error","name":"ZeroValueNotPermited","inputs":[]}],"bytecode":{"object":"0x608060405234801561000f575f80fd5b50610ad68061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610060575f3560e01c8063301d8397146100645780634fae1e2e146100865780636d36d620146100a65780638d8c4730146100d1578063dcc0587f146100e6578063f506d02314610106575b5f80fd5b61006c61010e565b60405163ffffffff90911681526020015b60405180910390f35b6100996100943660046107bd565b610128565b60405161007d919061084a565b6100b96100b43660046108a8565b610275565b6040516001600160801b03909116815260200161007d565b6100e46100df366004610916565b610365565b005b6100f96100f43660046107bd565b6103fa565b60405161007d9190610978565b61006c610599565b5f806101186105a3565b6001015463ffffffff1692915050565b60408051808201909152606080825260208201525f6101456105a3565b905061016261015261010e565b63ffffffff80861691906105d616565b63ffffffff83165f908152602082815260409182902082518154606093810282018401855293810184815290939192849284918401828280156101df57602002820191905f5260205f20905f905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116101b05790505b505050505081526020016001820180548060200260200160405190810160405280929190818152602001828054801561026457602002820191905f5260205f20905f905b82829054906101000a900465ffffffffffff1665ffffffffffff16815260200190600601906020826005010492830192600103820291508084116102235790505b505050505081525050915050919050565b5f805f610281886103fa565b90505f816040015161ffff165f141580156102c157506102c1826040015161ffff168784606001516001600160401b03166106069092919063ffffffff16565b6102cb57866102d5565b6102d588886109f4565b905081602001515f815181106102ed576102ed610a1b565b602002602001015160ff168560ff161061035257602082015182516103169160ff88169161066f565b925082816001600160801b0316111561035257604051636720360b60e11b815260ff861660048201526024810184905260440160405180910390fd5b925061035c915050565b95945050505050565b5f61036f86610128565b90505f6001600160a01b038616156103f157815180515f9061039357610393610a1b565b602002602001015160ff168560ff16106103f157815160208301516103bc9160ff88169161066f565b9050806103c984866109f4565b6001600160801b031611156103f157604051634189123760e11b815260040160405180910390fd5b50505050505050565b604080516080810182526060808252602082018190525f928201839052810182905290610425610778565b9050610432610152610599565b600181015463ffffffff9081169084161061046057604051631390f2a160e01b815260040160405180910390fd5b63ffffffff83165f90815260208281526040918290208251815460a0938102820184019094526080810184815290939192849284918401828280156104f157602002820191905f5260205f20905f905b82829054906101000a900465ffffffffffff1665ffffffffffff16815260200190600601906020826005010492830192600103820291508084116104b05790505b505050505081526020016001820180548060200260200160405190810160405280929190818152602001828054801561056457602002820191905f5260205f20905f905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116105355790505b50505091835250506002919091015461ffff811660208301526201000090046001600160401b03166040909101529392505050565b5f80610118610778565b5f806105d060017f4ad28c94cb815a5bc8c4c7a6826bafcf87389a6ca864ba468204d2b980cfcd5f610a2f565b92915050565b8163ffffffff168163ffffffff1611610602576040516325ef9da360e11b815260040160405180910390fd5b5050565b5f816001600160401b03165f0361061e57505f610668565b5f61062b84610e10610a42565b63ffffffff166106446001600160401b03871642610a2f565b61064e9190610a6a565b6106589042610a2f565b6001600160401b03841610159150505b9392505050565b5f60015b83518110156106f25783818151811061068e5761068e610a1b565b602002602001015160ff168560ff1610156106ea57826106af600183610a2f565b815181106106bf576106bf610a1b565b602002602001015165ffffffffffff16670de0b6b3a76400006106e29190610a89565b915050610668565b600101610673565b5082600184516107029190610a2f565b8151811061071257610712610a1b565b602002602001015160ff168460ff161061076f5781600183516107359190610a2f565b8151811061074557610745610a1b565b602002602001015165ffffffffffff16670de0b6b3a76400006107689190610a89565b9050610668565b505f9392505050565b5f806105d060017f83267efb4f531fecf2aed040d8a6b66e44808d12f27a568b82ac7d35297d9fad610a2f565b803563ffffffff811681146107b8575f80fd5b919050565b5f602082840312156107cd575f80fd5b610668826107a5565b5f815180845260208085019450602084015f5b8381101561080857815160ff16875295820195908201906001016107e9565b509495945050505050565b5f815180845260208085019450602084015f5b8381101561080857815165ffffffffffff1687529582019590820190600101610826565b602081525f82516040602084015261086560608401826107d6565b90506020840151601f1984830301604085015261035c8282610813565b80356001600160801b03811681146107b8575f80fd5b803560ff811681146107b8575f80fd5b5f805f805f60a086880312156108bc575f80fd5b6108c5866107a5565b94506108d360208701610882565b93506108e160408701610882565b925060608601356001600160401b03811681146108fc575f80fd5b915061090a60808701610898565b90509295509295909350565b5f805f805f60a0868803121561092a575f80fd5b610933866107a5565b945060208601356001600160a01b038116811461094e575f80fd5b935061095c60408701610898565b925061096a60608701610882565b915061090a60808701610882565b602081525f82516080602084015261099360a0840182610813565b90506020840151601f198483030160408501526109b082826107d6565b604086015161ffff16606086810191909152909501516001600160401b0316608090940193909352509192915050565b634e487b7160e01b5f52601160045260245ffd5b6001600160801b03818116838216019080821115610a1457610a146109e0565b5092915050565b634e487b7160e01b5f52603260045260245ffd5b818103818111156105d0576105d06109e0565b63ffffffff818116838216028082169190828114610a6257610a626109e0565b505092915050565b5f82610a8457634e487b7160e01b5f52601260045260245ffd5b500690565b80820281158282048414176105d0576105d06109e056fea26469706673582212203fc515c623aa2cd67b433a6131259f1640a55812b7c17eb8d9d52d82ac55336364736f6c63430008180033","sourceMap":"434:6729:6:-:0;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561000f575f80fd5b5060043610610060575f3560e01c8063301d8397146100645780634fae1e2e146100865780636d36d620146100a65780638d8c4730146100d1578063dcc0587f146100e6578063f506d02314610106575b5f80fd5b61006c61010e565b60405163ffffffff90911681526020015b60405180910390f35b6100996100943660046107bd565b610128565b60405161007d919061084a565b6100b96100b43660046108a8565b610275565b6040516001600160801b03909116815260200161007d565b6100e46100df366004610916565b610365565b005b6100f96100f43660046107bd565b6103fa565b60405161007d9190610978565b61006c610599565b5f806101186105a3565b6001015463ffffffff1692915050565b60408051808201909152606080825260208201525f6101456105a3565b905061016261015261010e565b63ffffffff80861691906105d616565b63ffffffff83165f908152602082815260409182902082518154606093810282018401855293810184815290939192849284918401828280156101df57602002820191905f5260205f20905f905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116101b05790505b505050505081526020016001820180548060200260200160405190810160405280929190818152602001828054801561026457602002820191905f5260205f20905f905b82829054906101000a900465ffffffffffff1665ffffffffffff16815260200190600601906020826005010492830192600103820291508084116102235790505b505050505081525050915050919050565b5f805f610281886103fa565b90505f816040015161ffff165f141580156102c157506102c1826040015161ffff168784606001516001600160401b03166106069092919063ffffffff16565b6102cb57866102d5565b6102d588886109f4565b905081602001515f815181106102ed576102ed610a1b565b602002602001015160ff168560ff161061035257602082015182516103169160ff88169161066f565b925082816001600160801b0316111561035257604051636720360b60e11b815260ff861660048201526024810184905260440160405180910390fd5b925061035c915050565b95945050505050565b5f61036f86610128565b90505f6001600160a01b038616156103f157815180515f9061039357610393610a1b565b602002602001015160ff168560ff16106103f157815160208301516103bc9160ff88169161066f565b9050806103c984866109f4565b6001600160801b031611156103f157604051634189123760e11b815260040160405180910390fd5b50505050505050565b604080516080810182526060808252602082018190525f928201839052810182905290610425610778565b9050610432610152610599565b600181015463ffffffff9081169084161061046057604051631390f2a160e01b815260040160405180910390fd5b63ffffffff83165f90815260208281526040918290208251815460a0938102820184019094526080810184815290939192849284918401828280156104f157602002820191905f5260205f20905f905b82829054906101000a900465ffffffffffff1665ffffffffffff16815260200190600601906020826005010492830192600103820291508084116104b05790505b505050505081526020016001820180548060200260200160405190810160405280929190818152602001828054801561056457602002820191905f5260205f20905f905b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116105355790505b50505091835250506002919091015461ffff811660208301526201000090046001600160401b03166040909101529392505050565b5f80610118610778565b5f806105d060017f4ad28c94cb815a5bc8c4c7a6826bafcf87389a6ca864ba468204d2b980cfcd5f610a2f565b92915050565b8163ffffffff168163ffffffff1611610602576040516325ef9da360e11b815260040160405180910390fd5b5050565b5f816001600160401b03165f0361061e57505f610668565b5f61062b84610e10610a42565b63ffffffff166106446001600160401b03871642610a2f565b61064e9190610a6a565b6106589042610a2f565b6001600160401b03841610159150505b9392505050565b5f60015b83518110156106f25783818151811061068e5761068e610a1b565b602002602001015160ff168560ff1610156106ea57826106af600183610a2f565b815181106106bf576106bf610a1b565b602002602001015165ffffffffffff16670de0b6b3a76400006106e29190610a89565b915050610668565b600101610673565b5082600184516107029190610a2f565b8151811061071257610712610a1b565b602002602001015160ff168460ff161061076f5781600183516107359190610a2f565b8151811061074557610745610a1b565b602002602001015165ffffffffffff16670de0b6b3a76400006107689190610a89565b9050610668565b505f9392505050565b5f806105d060017f83267efb4f531fecf2aed040d8a6b66e44808d12f27a568b82ac7d35297d9fad610a2f565b803563ffffffff811681146107b8575f80fd5b919050565b5f602082840312156107cd575f80fd5b610668826107a5565b5f815180845260208085019450602084015f5b8381101561080857815160ff16875295820195908201906001016107e9565b509495945050505050565b5f815180845260208085019450602084015f5b8381101561080857815165ffffffffffff1687529582019590820190600101610826565b602081525f82516040602084015261086560608401826107d6565b90506020840151601f1984830301604085015261035c8282610813565b80356001600160801b03811681146107b8575f80fd5b803560ff811681146107b8575f80fd5b5f805f805f60a086880312156108bc575f80fd5b6108c5866107a5565b94506108d360208701610882565b93506108e160408701610882565b925060608601356001600160401b03811681146108fc575f80fd5b915061090a60808701610898565b90509295509295909350565b5f805f805f60a0868803121561092a575f80fd5b610933866107a5565b945060208601356001600160a01b038116811461094e575f80fd5b935061095c60408701610898565b925061096a60608701610882565b915061090a60808701610882565b602081525f82516080602084015261099360a0840182610813565b90506020840151601f198483030160408501526109b082826107d6565b604086015161ffff16606086810191909152909501516001600160401b0316608090940193909352509192915050565b634e487b7160e01b5f52601160045260245ffd5b6001600160801b03818116838216019080821115610a1457610a146109e0565b5092915050565b634e487b7160e01b5f52603260045260245ffd5b818103818111156105d0576105d06109e0565b63ffffffff818116838216028082169190828114610a6257610a626109e0565b505092915050565b5f82610a8457634e487b7160e01b5f52601260045260245ffd5b500690565b80820281158282048414176105d0576105d06109e056fea26469706673582212203fc515c623aa2cd67b433a6131259f1640a55812b7c17eb8d9d52d82ac55336364736f6c63430008180033","sourceMap":"434:6729:6:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3200:237;;;:::i;:::-;;;188:10:14;176:23;;;158:42;;146:2;131:18;3200:237:6;;;;;;;;2682:376;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;5029:903::-;;;;;;:::i;:::-;;:::i;:::-;;;-1:-1:-1;;;;;3162:32:14;;;3144:51;;3132:2;3117:18;5029:903:6;2998:203:14;1755:733:6;;;;;;:::i;:::-;;:::i;:::-;;6297:476;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;6916:245::-;;;:::i;3200:237::-;3267:6;3285:46;3334:43;:41;:43::i;:::-;3394:36;;;;;;3200:237;-1:-1:-1;;3200:237:6:o;2682:376::-;-1:-1:-1;;;;;;;;;;;;;;;;;2825:46:6;2874:43;:41;:43::i;:::-;2825:92;;2927:63;2953:36;:34;:36::i;:::-;2927:25;;;;;:63;:25;:63;:::i;:::-;3007:44;;;:36;:44;;;;;;;;;;;;3000:51;;;;;;;;;;;;;;;;;;;;;;3007:44;;3000:51;;3007:44;;3000:51;;3007:44;3000:51;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2682:376;;;:::o;5029:903::-;5198:7;5217:19;5246:63;5312:39;5344:6;5312:31;:39::i;:::-;5246:105;;5361:32;5409:4;:11;;;:16;;5424:1;5409:16;;:74;;;;;5429:54;5459:4;:11;;;5429:54;;5472:10;5429:4;:14;;;-1:-1:-1;;;;;5429:29:6;;;:54;;;;;:::i;:::-;5409:134;;5536:7;5409:134;;;5499:34;5509:24;5499:7;:34;:::i;:::-;5361:182;;5580:4;:14;;;5595:1;5580:17;;;;;;;;:::i;:::-;;;;;;;5566:31;;:10;:31;;;5562:364;;5663:14;;;;5679:13;;5627:66;;:35;;;;;:66::i;:::-;5613:80;;5738:11;5711:24;-1:-1:-1;;;;;5711:38:6;;5707:101;;;5758:50;;-1:-1:-1;;;5758:50:6;;5223:4:14;5211:17;;5758:50:6;;;5193:36:14;5245:18;;;5238:34;;;5166:18;;5758:50:6;;;;;;;5707:101;5829:24;-1:-1:-1;5822:31:6;;-1:-1:-1;;5822:31:6;5029:903;;;;;;;;:::o;1755:733::-;1924:61;1988:38;2018:7;1988:29;:38::i;:::-;1924:102;-1:-1:-1;2036:19:6;-1:-1:-1;;;;;2174:24:6;;;2170:312;;2232:14;;:17;;:14;;:17;;;;:::i;:::-;;;;;;;2218:31;;:10;:31;;;2214:258;;2319:14;;2335:13;;;;2283:66;;:35;;;;;:66::i;:::-;2269:80;-1:-1:-1;2269:80:6;2372:33;2388:17;2372:13;:33;:::i;:::-;-1:-1:-1;;;;;2371:49:6;;2367:90;;;2429:28;;-1:-1:-1;;;2429:28:6;;;;;;;;;;;2367:90;1914:574;;1755:733;;;;;:::o;6297:476::-;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6495:45:6;:43;:45::i;:::-;6444:96;;6550:65;6576:38;:36;:38::i;6550:65::-;6639:38;;;;;;;;6629:48;;;;6625:78;;6686:17;;-1:-1:-1;;;6686:17:6;;;;;;;;;;;6625:78;6720:46;;;:38;:46;;;;;;;;;;;;6713:53;;;;;;;;;;;;;;;;;;;;;;;6720:46;;6713:53;;6720:46;;6713:53;;6720:46;6713:53;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;6713:53:6;;;-1:-1:-1;;6713:53:6;;;;;;;;;;;;;;;;-1:-1:-1;;;;;6713:53:6;;;;;;;;-1:-1:-1;;;6297:476:6:o;6916:245::-;6985:6;7003:48;7054:45;:43;:45::i;8023:258:13:-;8091:51;;2230:57;2286:1;2238:44;2230:57;:::i;:::-;2222:66;8023:258;-1:-1:-1;;8023:258:13:o;1403:176:10:-;1511:10;1497:24;;:10;:24;;;1493:80;;1544:18;;-1:-1:-1;;;1544:18:10;;;;;;;;;;;1493:80;1403:176;;:::o;2627:903::-;2735:4;2822:17;-1:-1:-1;;;;;2822:22:10;2843:1;2822:22;2818:65;;-1:-1:-1;2867:5:10;2860:12;;2818:65;3319:26;3401:17;:7;3411;3401:17;:::i;:::-;3367:52;;3368:28;-1:-1:-1;;;;;3368:28:10;;:15;:28;:::i;:::-;3367:52;;;;:::i;:::-;3348:72;;:15;:72;:::i;:::-;-1:-1:-1;;;;;3484:39:10;;;;;-1:-1:-1;;2627:903:10;;;;;;:::o;4485:504::-;4616:7;4652:1;4635:182;4659:11;:18;4655:1;:22;4635:182;;;4715:11;4727:1;4715:14;;;;;;;;:::i;:::-;;;;;;;4702:27;;:10;:27;;;4698:109;;;4761:10;4772:5;4776:1;4772;:5;:::i;:::-;4761:17;;;;;;;;:::i;:::-;;;;;;;4756:23;;4783:8;4756:36;;;;:::i;:::-;4749:43;;;;;4698:109;4679:3;;4635:182;;;;4844:11;4877:1;4856:11;:18;:22;;;;:::i;:::-;4844:35;;;;;;;;:::i;:::-;;;;;;;4830:49;;:10;:49;;;4826:139;;4907:10;4938:1;4918:10;:17;:21;;;;:::i;:::-;4907:33;;;;;;;;:::i;:::-;;;;;;;4902:39;;4945:8;4902:52;;;;:::i;:::-;4895:59;;;;4826:139;-1:-1:-1;4981:1:10;4485:504;;;;;:::o;7238:261:13:-;7308:53;;2084:71;2154:1;2092:58;2084:71;:::i;211:163:14:-;278:20;;338:10;327:22;;317:33;;307:61;;364:1;361;354:12;307:61;211:163;;;:::o;379:184::-;437:6;490:2;478:9;469:7;465:23;461:32;458:52;;;506:1;503;496:12;458:52;529:28;547:9;529:28;:::i;568:448::-;619:3;657:5;651:12;684:6;679:3;672:19;710:4;739;734:3;730:14;723:21;;778:4;771:5;767:16;801:1;811:180;825:6;822:1;819:13;811:180;;;890:13;;905:4;886:24;874:37;;931:12;;;;966:15;;;;847:1;840:9;811:180;;;-1:-1:-1;1007:3:14;;568:448;-1:-1:-1;;;;;568:448:14:o;1021:459::-;1073:3;1111:5;1105:12;1138:6;1133:3;1126:19;1164:4;1193;1188:3;1184:14;1177:21;;1232:4;1225:5;1221:16;1255:1;1265:190;1279:6;1276:1;1273:13;1265:190;;;1344:13;;1359:14;1340:34;1328:47;;1395:12;;;;1430:15;;;;1301:1;1294:9;1265:190;;1485:588;1702:2;1691:9;1684:21;1665:4;1740:6;1734:13;1783:4;1778:2;1767:9;1763:18;1756:32;1811:60;1867:2;1856:9;1852:18;1838:12;1811:60;:::i;:::-;1797:74;;1920:2;1912:6;1908:15;1902:22;1994:2;1990:7;1978:9;1970:6;1966:22;1962:36;1955:4;1944:9;1940:20;1933:66;2016:51;2060:6;2044:14;2016:51;:::i;2078:173::-;2146:20;;-1:-1:-1;;;;;2195:31:14;;2185:42;;2175:70;;2241:1;2238;2231:12;2256:156;2322:20;;2382:4;2371:16;;2361:27;;2351:55;;2402:1;2399;2392:12;2417:576;2508:6;2516;2524;2532;2540;2593:3;2581:9;2572:7;2568:23;2564:33;2561:53;;;2610:1;2607;2600:12;2561:53;2633:28;2651:9;2633:28;:::i;:::-;2623:38;;2680;2714:2;2703:9;2699:18;2680:38;:::i;:::-;2670:48;;2737:38;2771:2;2760:9;2756:18;2737:38;:::i;:::-;2727:48;-1:-1:-1;2825:2:14;2810:18;;2797:32;-1:-1:-1;;;;;2858:30:14;;2848:41;;2838:69;;2903:1;2900;2893:12;2838:69;2926:5;-1:-1:-1;2950:37:14;2982:3;2967:19;;2950:37;:::i;:::-;2940:47;;2417:576;;;;;;;;:::o;3206:578::-;3298:6;3306;3314;3322;3330;3383:3;3371:9;3362:7;3358:23;3354:33;3351:53;;;3400:1;3397;3390:12;3351:53;3423:28;3441:9;3423:28;:::i;:::-;3413:38;-1:-1:-1;3501:2:14;3486:18;;3473:32;-1:-1:-1;;;;;3534:31:14;;3524:42;;3514:70;;3580:1;3577;3570:12;3514:70;3603:5;-1:-1:-1;3627:36:14;3659:2;3644:18;;3627:36;:::i;:::-;3617:46;;3682:38;3716:2;3705:9;3701:18;3682:38;:::i;:::-;3672:48;;3739:39;3773:3;3762:9;3758:19;3739:39;:::i;3789:778::-;4010:2;3999:9;3992:21;3973:4;4048:6;4042:13;4091:4;4086:2;4075:9;4071:18;4064:32;4119:62;4176:3;4165:9;4161:19;4147:12;4119:62;:::i;:::-;4105:76;;4230:2;4222:6;4218:15;4212:22;4302:2;4298:7;4286:9;4278:6;4274:22;4270:36;4265:2;4254:9;4250:18;4243:64;4330:50;4373:6;4357:14;4330:50;:::i;:::-;4438:2;4426:15;;4420:22;4444:6;4416:35;4411:2;4396:18;;;4389:63;;;;4500:15;;;4494:22;-1:-1:-1;;;;;4490:47:14;4483:4;4468:20;;;4461:77;;;;-1:-1:-1;4316:64:14;;3789:778;-1:-1:-1;;3789:778:14:o;4572:127::-;4633:10;4628:3;4624:20;4621:1;4614:31;4664:4;4661:1;4654:15;4688:4;4685:1;4678:15;4704:182;-1:-1:-1;;;;;4811:10:14;;;4823;;;4807:27;;4846:11;;;4843:37;;;4860:18;;:::i;:::-;4843:37;4704:182;;;;:::o;4891:127::-;4952:10;4947:3;4943:20;4940:1;4933:31;4983:4;4980:1;4973:15;5007:4;5004:1;4997:15;5283:128;5350:9;;;5371:11;;;5368:37;;;5385:18;;:::i;5416:249::-;5487:10;5529;;;5541;;;5525:27;5572:20;;;;5487:10;5611:24;;;5601:58;;5639:18;;:::i;:::-;5601:58;;5416:249;;;;:::o;5670:209::-;5702:1;5728;5718:132;;5772:10;5767:3;5763:20;5760:1;5753:31;5807:4;5804:1;5797:15;5835:4;5832:1;5825:15;5718:132;-1:-1:-1;5864:9:14;;5670:209::o;5884:168::-;5957:9;;;5988;;6005:15;;;5999:22;;5985:37;5975:71;;6026:18;;:::i","linkReferences":{}},"methodIdentifiers":{"checkAccountMaxTxValueByRiskScore(uint32,uint128,uint128,uint64,uint8)":"6d36d620","checkAccountMaxValueByRiskScore(uint32,address,uint8,uint128,uint128)":"8d8c4730","getAccountMaxTxValueByRiskScore(uint32)":"dcc0587f","getAccountMaxValueByRiskScore(uint32)":"4fae1e2e","getTotalAccountMaxTxValueByRiskScore()":"f506d023","getTotalAccountMaxValueByRiskScore()":"301d8397"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CantMixPeriodicAndNonPeriodic\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IndexOutOfRange\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InputArraysMustHaveSameLength\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InputArraysSizesNotValid\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"_type\",\"type\":\"uint8\"}],\"name\":\"InvalidOracleType\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidRuleInput\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvertedLimits\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotEnoughBalance\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"OverMaxAccValueByRiskScore\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"riskScore\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"maxTxSize\",\"type\":\"uint256\"}],\"name\":\"OverMaxTxValueByRiskScore\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PeriodExceeds5Years\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RuleDoesNotExist\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RuleDoesNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"ValueOutOfRange\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"WrongArrayOrder\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroValueNotPermited\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"ruleId\",\"type\":\"uint32\"},{\"internalType\":\"uint128\",\"name\":\"_valueTransactedInPeriod\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"txValue\",\"type\":\"uint128\"},{\"internalType\":\"uint64\",\"name\":\"lastTxDate\",\"type\":\"uint64\"},{\"internalType\":\"uint8\",\"name\":\"_riskScore\",\"type\":\"uint8\"}],\"name\":\"checkAccountMaxTxValueByRiskScore\",\"outputs\":[{\"internalType\":\"uint128\",\"name\":\"\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"_ruleId\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"_toAddress\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"_riskScore\",\"type\":\"uint8\"},{\"internalType\":\"uint128\",\"name\":\"_totalValueTo\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"_amountToTransfer\",\"type\":\"uint128\"}],\"name\":\"checkAccountMaxValueByRiskScore\",\"outputs\":[],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"_index\",\"type\":\"uint32\"}],\"name\":\"getAccountMaxTxValueByRiskScore\",\"outputs\":[{\"components\":[{\"internalType\":\"uint48[]\",\"name\":\"maxValue\",\"type\":\"uint48[]\"},{\"internalType\":\"uint8[]\",\"name\":\"riskScore\",\"type\":\"uint8[]\"},{\"internalType\":\"uint16\",\"name\":\"period\",\"type\":\"uint16\"},{\"internalType\":\"uint64\",\"name\":\"startTime\",\"type\":\"uint64\"}],\"internalType\":\"struct IApplicationRules.AccountMaxTxValueByRiskScore\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"_index\",\"type\":\"uint32\"}],\"name\":\"getAccountMaxValueByRiskScore\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8[]\",\"name\":\"riskScore\",\"type\":\"uint8[]\"},{\"internalType\":\"uint48[]\",\"name\":\"maxValue\",\"type\":\"uint48[]\"}],\"internalType\":\"struct IApplicationRules.AccountMaxValueByRiskScore\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalAccountMaxTxValueByRiskScore\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getTotalAccountMaxValueByRiskScore\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"@ShaneDuncan602 @oscarsernarosero @TJ-Everett\",\"details\":\"This contract implements rules to be checked by an Application Handler.\",\"kind\":\"dev\",\"methods\":{\"checkAccountMaxTxValueByRiskScore(uint32,uint128,uint128,uint64,uint8)\":{\"details\":\"Rule that checks if the tx exceeds the limit size in USD for a specific risk profile within a specified period of time.this check will cause a revert if the new value of _valueTransactedInPeriod in USD exceeds the limit for the address risk profile.\",\"params\":{\"_riskScore\":\"of the address (0 -> 100)\",\"_valueTransactedInPeriod\":\"the cumulative amount of tokens recorded in the last period.\",\"lastTxDate\":\"timestamp of the last transfer of this token by this address.\",\"ruleId\":\"to check against.\",\"txValue\":\"in USD of the current transaction with 18 decimals of precision.\"},\"returns\":{\"_0\":\"updated value for the _valueTransactedInPeriod. If _valueTransactedInPeriod are inside the current period, then this value is accumulated. If not, it is reset to current amount.\"}},\"checkAccountMaxValueByRiskScore(uint32,address,uint8,uint128,uint128)\":{\"details\":\"Account Max Value By Risk Score\",\"params\":{\"_amountToTransfer\":\"Total dollar amount to be transferred in USD with 18 decimals of precision\",\"_riskScore\":\"The Risk Score of the recepient account\",\"_ruleId\":\"Rule Identifier for rule arguments\",\"_toAddress\":\"Address of the recipient\",\"_totalValueTo\":\"Recipient account's beginning balance in USD with 18 decimals of precision\"}},\"getAccountMaxTxValueByRiskScore(uint32)\":{\"details\":\"Function to get the Account Max Transaction Value By Risk Score rule.\",\"params\":{\"_index\":\"position of rule in array\"},\"returns\":{\"_0\":\"a touple of arrays, a uint8 and a uint64. The first array will be the _maxValue, the second will be the _riskScore, the uint8 will be the period, and the last value will be the starting date.\"}},\"getAccountMaxValueByRiskScore(uint32)\":{\"details\":\"Function to get the Account Max Value By Risk Score rule by index\",\"params\":{\"_index\":\"position of rule in array\"},\"returns\":{\"_0\":\"AccountMaxValueByRiskScore rule\"}},\"getTotalAccountMaxTxValueByRiskScore()\":{\"details\":\"Function to get total Account Max Transaction Value By Risk Score rules\",\"returns\":{\"_0\":\"Total length of array\"}},\"getTotalAccountMaxValueByRiskScore()\":{\"details\":\"Function to get total Account Max Value By Risk Score rules registered\",\"returns\":{\"_0\":\"Total length of array\"}}},\"title\":\"Risk Score Processor Facet\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"checkAccountMaxTxValueByRiskScore(uint32,uint128,uint128,uint64,uint8)\":{\"notice\":\"that these max value ranges are set by risk score ranges._maxValue size must be equal to _riskScore  The positioning of the arrays is ascendant in terms of risk scores,  and descendant in the size of transactions. (i.e. if highest risk score is 99, the last balanceLimit will apply to all risk scores of 100.) eg. risk scores      balances         resultant logic -----------      --------         ---------------                                   0-24  =   NO LIMIT     25              500            25-49 =   500    50              250            50-74 =   250    75              100            75-99 =   100\"},\"checkAccountMaxValueByRiskScore(uint32,address,uint8,uint128,uint128)\":{\"notice\":\"_maxValue array size must be equal to _riskScore array size. The positioning of the arrays is ascendant in terms of risk scores, and descendant in the value array. (i.e. if highest risk score is 99, the last balanceLimit will apply to all risk scores of 100.) eg. risk scores      balances         resultant logic -----------      --------         ---------------                                   0-24  =   NO LIMIT     25              500            25-49 =   500    50              250            50-74 =   250    75              100            75-99 =   100\"}},\"notice\":\"Risk Score Rules. All risk rules are measured in in terms of USD with 18 decimals of precision.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/protocol/economic/ruleProcessor/ApplicationRiskProcessorFacet.sol\":\"ApplicationRiskProcessorFacet\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":diamond-std/=lib/diamond-std/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/\"]},\"sources\":{\"lib/diamond-std/core/DiamondCut/FacetCut.sol\":{\"keccak256\":\"0x20816015bfdcd3885faafc4c1b90f96c614c3f21e02e1c6022069568aaf425d3\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5d8f60b2f3f806e21b1f654af3179b9b9d1a1f9ca6b31da158e7daac7f61af8d\",\"dweb:/ipfs/QmWJDgFwrYKD6Fyer2tg9Q1vMhnS7acphoYd6daTch7Wae\"]},\"lib/diamond-std/implementations/ERC173/ERC173.sol\":{\"keccak256\":\"0xdaad09beced3c7ec1990e785b3640d714448dd69b3c94dc7d372e5a9c9134a43\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://b39617464e2bb7c2b54ac33b66acf6f71c3b4816bfd25ab8df5410c09b389744\",\"dweb:/ipfs/QmSHj6qZEGxD6fKnapapwX1GRc5M8hFwhyqXKvnqFe2FWJ\"]},\"lib/diamond-std/implementations/ERC173/ERC173Lib.sol\":{\"keccak256\":\"0x5b84a93ec7b070e4c5f4c82c4c8598a656a2c44296065bfa9370aa61899f09e7\",\"license\":\"UNLICENSED\",\"urls\":[\"bzz-raw://53513b6263b714e6e705e8b02ae0dd84a0bd8dc78048d86e2384d68cad09e2cc\",\"dweb:/ipfs/QmRTkkds4KxhekV2CLzNJ2sGdYRCxwuGqzJA7uUsdBM8AG\"]},\"src/common/ActionEnum.sol\":{\"keccak256\":\"0xe40c1173f45de46d72872d52d81fa915fd328d5b717a9264324518268b95ee6d\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://a53d3b84ccb944a6e0b8b756b0e5bc16f4ef45131c098c0eaabe8c9d2e58c863\",\"dweb:/ipfs/QmfTUpUYnM4er8EUhnoXe8wH2jZhqr11KSqatDjnoXYhog\"]},\"src/common/IErrors.sol\":{\"keccak256\":\"0x53fe74d4221e334a7fc3010d039ed5c7bdd7683ee3e4c9e42dd0639cf15ee800\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://a7ea13f450f2e02608f5ef9969e10f2fac4776de386cf8895ad1aa88c4068f32\",\"dweb:/ipfs/QmPFX9GgErLNTFWhq9ApQrs6X4FZyGPF2PDYBrLTbZZyPe\"]},\"src/common/IEvents.sol\":{\"keccak256\":\"0xe953b9baadfc2dcd3ef239f79dec5d88ce4c603c7439da9069c4c2d6dd14771e\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://d496dfd37c8acc97872530ed114cd55634a7fb9033354174c203574d05f6ccaa\",\"dweb:/ipfs/QmdKZ3bgNHz7MinYm54neyXp3oh7ZckSrYF1XPTU9t7xFr\"]},\"src/protocol/economic/ruleProcessor/ApplicationRiskProcessorFacet.sol\":{\"keccak256\":\"0x09b23fae1de35a69a5d8a6143d323f050958cac127a3ca656ce64f1a7f75a00f\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ca53629758566cd6d4103965a250f8709555d3169bf725e7a79f1c33dbdd6f9a\",\"dweb:/ipfs/QmcjTCRzCLyMV2i939BqAjm18knHpLv1PfFFzBfgoeP5mN\"]},\"src/protocol/economic/ruleProcessor/IRuleStorage.sol\":{\"keccak256\":\"0x5dc1630d31534230f59c4f52803960d09d94aefbec8b2c11e03dd07ea552f346\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://41a4818660ba1c386e5c3088eeaaf7494df71dd0d5af2b4fa49c9c5e332d8f27\",\"dweb:/ipfs/QmbqURCxpiUw7uhiMyGt3XCG7dJYXH4i9zt27zJVEN14D1\"]},\"src/protocol/economic/ruleProcessor/RuleCodeData.sol\":{\"keccak256\":\"0xfd38607775805ef6c2a9ddcf55c8bce14107a2942981e6a0631e241a6acc5b48\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://ad99540620525e968be85eab73f3a1d1d86e77e4f3bb65b779dd4a2b6caee864\",\"dweb:/ipfs/QmT3JiYEuXxWuhtiNMjjpYdFYPb1XyrkfeZfviFvsd3kTN\"]},\"src/protocol/economic/ruleProcessor/RuleDataInterfaces.sol\":{\"keccak256\":\"0xca473f2784e3e2b1d24204efa9a81d3082221a7572a5cca9023853e1212b9e03\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://de750ca49535ba74d1385f028caed0b95d3e8e97eefaa4f7657ef9b503162f8a\",\"dweb:/ipfs/QmaXdoi7gYhn5nTS2vVDB1mCxDViFGebYsoLHuMjnS1kvu\"]},\"src/protocol/economic/ruleProcessor/RuleProcessorCommonLib.sol\":{\"keccak256\":\"0xc1c183da762734fbfa5c3ab4dfc71270565505df63d1c6cd8578aa25e92b63cb\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://0a89b8b63d77d40b704e8d8e9920393208d7326b6d3d27946fd2f0d58dea6a6b\",\"dweb:/ipfs/QmYKXozBGLgGcKt8D9nuhJxoSnQKCUqJVu8oBqNucfSzZE\"]},\"src/protocol/economic/ruleProcessor/RuleProcessorDiamondImports.sol\":{\"keccak256\":\"0x5f3d8eb51ab70a3610bcaf0b107751087c857ab15f405febf14d864bfd076743\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://c9d4c98c01b268a78382fc676bc76f94ce41fb0602acd7b01354a5bdd47b2864\",\"dweb:/ipfs/QmZcagiZyo4rmW4C8Skyw54No9a6cgNKr2EJVpCe9L2kGJ\"]},\"src/protocol/economic/ruleProcessor/RuleProcessorDiamondLib.sol\":{\"keccak256\":\"0x4f3304bb346213363e449b7a6a5640a81509f5b10ff8abbb36b1796c1e5439e1\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://583b9bf9cbcbd134875a1d7ce8809849a1ce03cd79e42f06a2a44eb8416e62ba\",\"dweb:/ipfs/QmVu2qRJ5DNeGUjgbh7otHTZGgLJkqMa19fhhXC79Y1yPU\"]},\"src/protocol/economic/ruleProcessor/RuleStoragePositionLib.sol\":{\"keccak256\":\"0x3a7e2705657b1fc86e8c9e8f8289046eed8bcba7bbe251fa2f82ffd04e51c921\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://c8243b84f3abaf3bd4cea14b3f51fba6924ab273662cac7c43ea27a8658f96e1\",\"dweb:/ipfs/QmdtjHsgr9o6VZ8F6XcJm7U5nQUZej9PB61HDTrdGbMnAY\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"CantMixPeriodicAndNonPeriodic"},{"inputs":[],"type":"error","name":"IndexOutOfRange"},{"inputs":[],"type":"error","name":"InputArraysMustHaveSameLength"},{"inputs":[],"type":"error","name":"InputArraysSizesNotValid"},{"inputs":[{"internalType":"uint8","name":"_type","type":"uint8"}],"type":"error","name":"InvalidOracleType"},{"inputs":[],"type":"error","name":"InvalidRuleInput"},{"inputs":[],"type":"error","name":"InvertedLimits"},{"inputs":[],"type":"error","name":"NotEnoughBalance"},{"inputs":[],"type":"error","name":"OverMaxAccValueByRiskScore"},{"inputs":[{"internalType":"uint8","name":"riskScore","type":"uint8"},{"internalType":"uint256","name":"maxTxSize","type":"uint256"}],"type":"error","name":"OverMaxTxValueByRiskScore"},{"inputs":[],"type":"error","name":"PeriodExceeds5Years"},{"inputs":[],"type":"error","name":"RuleDoesNotExist"},{"inputs":[],"type":"error","name":"RuleDoesNotExist"},{"inputs":[{"internalType":"uint256","name":"_value","type":"uint256"}],"type":"error","name":"ValueOutOfRange"},{"inputs":[],"type":"error","name":"WrongArrayOrder"},{"inputs":[],"type":"error","name":"ZeroValueNotPermited"},{"inputs":[{"internalType":"uint32","name":"ruleId","type":"uint32"},{"internalType":"uint128","name":"_valueTransactedInPeriod","type":"uint128"},{"internalType":"uint128","name":"txValue","type":"uint128"},{"internalType":"uint64","name":"lastTxDate","type":"uint64"},{"internalType":"uint8","name":"_riskScore","type":"uint8"}],"stateMutability":"view","type":"function","name":"checkAccountMaxTxValueByRiskScore","outputs":[{"internalType":"uint128","name":"","type":"uint128"}]},{"inputs":[{"internalType":"uint32","name":"_ruleId","type":"uint32"},{"internalType":"address","name":"_toAddress","type":"address"},{"internalType":"uint8","name":"_riskScore","type":"uint8"},{"internalType":"uint128","name":"_totalValueTo","type":"uint128"},{"internalType":"uint128","name":"_amountToTransfer","type":"uint128"}],"stateMutability":"view","type":"function","name":"checkAccountMaxValueByRiskScore"},{"inputs":[{"internalType":"uint32","name":"_index","type":"uint32"}],"stateMutability":"view","type":"function","name":"getAccountMaxTxValueByRiskScore","outputs":[{"internalType":"struct IApplicationRules.AccountMaxTxValueByRiskScore","name":"","type":"tuple","components":[{"internalType":"uint48[]","name":"maxValue","type":"uint48[]"},{"internalType":"uint8[]","name":"riskScore","type":"uint8[]"},{"internalType":"uint16","name":"period","type":"uint16"},{"internalType":"uint64","name":"startTime","type":"uint64"}]}]},{"inputs":[{"internalType":"uint32","name":"_index","type":"uint32"}],"stateMutability":"view","type":"function","name":"getAccountMaxValueByRiskScore","outputs":[{"internalType":"struct IApplicationRules.AccountMaxValueByRiskScore","name":"","type":"tuple","components":[{"internalType":"uint8[]","name":"riskScore","type":"uint8[]"},{"internalType":"uint48[]","name":"maxValue","type":"uint48[]"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getTotalAccountMaxTxValueByRiskScore","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getTotalAccountMaxValueByRiskScore","outputs":[{"internalType":"uint32","name":"","type":"uint32"}]}],"devdoc":{"kind":"dev","methods":{"checkAccountMaxTxValueByRiskScore(uint32,uint128,uint128,uint64,uint8)":{"details":"Rule that checks if the tx exceeds the limit size in USD for a specific risk profile within a specified period of time.this check will cause a revert if the new value of _valueTransactedInPeriod in USD exceeds the limit for the address risk profile.","params":{"_riskScore":"of the address (0 -> 100)","_valueTransactedInPeriod":"the cumulative amount of tokens recorded in the last period.","lastTxDate":"timestamp of the last transfer of this token by this address.","ruleId":"to check against.","txValue":"in USD of the current transaction with 18 decimals of precision."},"returns":{"_0":"updated value for the _valueTransactedInPeriod. If _valueTransactedInPeriod are inside the current period, then this value is accumulated. If not, it is reset to current amount."}},"checkAccountMaxValueByRiskScore(uint32,address,uint8,uint128,uint128)":{"details":"Account Max Value By Risk Score","params":{"_amountToTransfer":"Total dollar amount to be transferred in USD with 18 decimals of precision","_riskScore":"The Risk Score of the recepient account","_ruleId":"Rule Identifier for rule arguments","_toAddress":"Address of the recipient","_totalValueTo":"Recipient account's beginning balance in USD with 18 decimals of precision"}},"getAccountMaxTxValueByRiskScore(uint32)":{"details":"Function to get the Account Max Transaction Value By Risk Score rule.","params":{"_index":"position of rule in array"},"returns":{"_0":"a touple of arrays, a uint8 and a uint64. The first array will be the _maxValue, the second will be the _riskScore, the uint8 will be the period, and the last value will be the starting date."}},"getAccountMaxValueByRiskScore(uint32)":{"details":"Function to get the Account Max Value By Risk Score rule by index","params":{"_index":"position of rule in array"},"returns":{"_0":"AccountMaxValueByRiskScore rule"}},"getTotalAccountMaxTxValueByRiskScore()":{"details":"Function to get total Account Max Transaction Value By Risk Score rules","returns":{"_0":"Total length of array"}},"getTotalAccountMaxValueByRiskScore()":{"details":"Function to get total Account Max Value By Risk Score rules registered","returns":{"_0":"Total length of array"}}},"version":1},"userdoc":{"kind":"user","methods":{"checkAccountMaxTxValueByRiskScore(uint32,uint128,uint128,uint64,uint8)":{"notice":"that these max value ranges are set by risk score ranges._maxValue size must be equal to _riskScore  The positioning of the arrays is ascendant in terms of risk scores,  and descendant in the size of transactions. (i.e. if highest risk score is 99, the last balanceLimit will apply to all risk scores of 100.) eg. risk scores      balances         resultant logic -----------      --------         ---------------                                   0-24  =   NO LIMIT     25              500            25-49 =   500    50              250            50-74 =   250    75              100            75-99 =   100"},"checkAccountMaxValueByRiskScore(uint32,address,uint8,uint128,uint128)":{"notice":"_maxValue array size must be equal to _riskScore array size. The positioning of the arrays is ascendant in terms of risk scores, and descendant in the value array. (i.e. if highest risk score is 99, the last balanceLimit will apply to all risk scores of 100.) eg. risk scores      balances         resultant logic -----------      --------         ---------------                                   0-24  =   NO LIMIT     25              500            25-49 =   500    50              250            50-74 =   250    75              100            75-99 =   100"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","diamond-std/=lib/diamond-std/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts-upgradeable/contracts/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/protocol/economic/ruleProcessor/ApplicationRiskProcessorFacet.sol":"ApplicationRiskProcessorFacet"},"evmVersion":"cancun","libraries":{}},"sources":{"lib/diamond-std/core/DiamondCut/FacetCut.sol":{"keccak256":"0x20816015bfdcd3885faafc4c1b90f96c614c3f21e02e1c6022069568aaf425d3","urls":["bzz-raw://5d8f60b2f3f806e21b1f654af3179b9b9d1a1f9ca6b31da158e7daac7f61af8d","dweb:/ipfs/QmWJDgFwrYKD6Fyer2tg9Q1vMhnS7acphoYd6daTch7Wae"],"license":"MIT"},"lib/diamond-std/implementations/ERC173/ERC173.sol":{"keccak256":"0xdaad09beced3c7ec1990e785b3640d714448dd69b3c94dc7d372e5a9c9134a43","urls":["bzz-raw://b39617464e2bb7c2b54ac33b66acf6f71c3b4816bfd25ab8df5410c09b389744","dweb:/ipfs/QmSHj6qZEGxD6fKnapapwX1GRc5M8hFwhyqXKvnqFe2FWJ"],"license":"UNLICENSED"},"lib/diamond-std/implementations/ERC173/ERC173Lib.sol":{"keccak256":"0x5b84a93ec7b070e4c5f4c82c4c8598a656a2c44296065bfa9370aa61899f09e7","urls":["bzz-raw://53513b6263b714e6e705e8b02ae0dd84a0bd8dc78048d86e2384d68cad09e2cc","dweb:/ipfs/QmRTkkds4KxhekV2CLzNJ2sGdYRCxwuGqzJA7uUsdBM8AG"],"license":"UNLICENSED"},"src/common/ActionEnum.sol":{"keccak256":"0xe40c1173f45de46d72872d52d81fa915fd328d5b717a9264324518268b95ee6d","urls":["bzz-raw://a53d3b84ccb944a6e0b8b756b0e5bc16f4ef45131c098c0eaabe8c9d2e58c863","dweb:/ipfs/QmfTUpUYnM4er8EUhnoXe8wH2jZhqr11KSqatDjnoXYhog"],"license":"BUSL-1.1"},"src/common/IErrors.sol":{"keccak256":"0x53fe74d4221e334a7fc3010d039ed5c7bdd7683ee3e4c9e42dd0639cf15ee800","urls":["bzz-raw://a7ea13f450f2e02608f5ef9969e10f2fac4776de386cf8895ad1aa88c4068f32","dweb:/ipfs/QmPFX9GgErLNTFWhq9ApQrs6X4FZyGPF2PDYBrLTbZZyPe"],"license":"BUSL-1.1"},"src/common/IEvents.sol":{"keccak256":"0xe953b9baadfc2dcd3ef239f79dec5d88ce4c603c7439da9069c4c2d6dd14771e","urls":["bzz-raw://d496dfd37c8acc97872530ed114cd55634a7fb9033354174c203574d05f6ccaa","dweb:/ipfs/QmdKZ3bgNHz7MinYm54neyXp3oh7ZckSrYF1XPTU9t7xFr"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/ApplicationRiskProcessorFacet.sol":{"keccak256":"0x09b23fae1de35a69a5d8a6143d323f050958cac127a3ca656ce64f1a7f75a00f","urls":["bzz-raw://ca53629758566cd6d4103965a250f8709555d3169bf725e7a79f1c33dbdd6f9a","dweb:/ipfs/QmcjTCRzCLyMV2i939BqAjm18knHpLv1PfFFzBfgoeP5mN"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/IRuleStorage.sol":{"keccak256":"0x5dc1630d31534230f59c4f52803960d09d94aefbec8b2c11e03dd07ea552f346","urls":["bzz-raw://41a4818660ba1c386e5c3088eeaaf7494df71dd0d5af2b4fa49c9c5e332d8f27","dweb:/ipfs/QmbqURCxpiUw7uhiMyGt3XCG7dJYXH4i9zt27zJVEN14D1"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleCodeData.sol":{"keccak256":"0xfd38607775805ef6c2a9ddcf55c8bce14107a2942981e6a0631e241a6acc5b48","urls":["bzz-raw://ad99540620525e968be85eab73f3a1d1d86e77e4f3bb65b779dd4a2b6caee864","dweb:/ipfs/QmT3JiYEuXxWuhtiNMjjpYdFYPb1XyrkfeZfviFvsd3kTN"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleDataInterfaces.sol":{"keccak256":"0xca473f2784e3e2b1d24204efa9a81d3082221a7572a5cca9023853e1212b9e03","urls":["bzz-raw://de750ca49535ba74d1385f028caed0b95d3e8e97eefaa4f7657ef9b503162f8a","dweb:/ipfs/QmaXdoi7gYhn5nTS2vVDB1mCxDViFGebYsoLHuMjnS1kvu"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleProcessorCommonLib.sol":{"keccak256":"0xc1c183da762734fbfa5c3ab4dfc71270565505df63d1c6cd8578aa25e92b63cb","urls":["bzz-raw://0a89b8b63d77d40b704e8d8e9920393208d7326b6d3d27946fd2f0d58dea6a6b","dweb:/ipfs/QmYKXozBGLgGcKt8D9nuhJxoSnQKCUqJVu8oBqNucfSzZE"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleProcessorDiamondImports.sol":{"keccak256":"0x5f3d8eb51ab70a3610bcaf0b107751087c857ab15f405febf14d864bfd076743","urls":["bzz-raw://c9d4c98c01b268a78382fc676bc76f94ce41fb0602acd7b01354a5bdd47b2864","dweb:/ipfs/QmZcagiZyo4rmW4C8Skyw54No9a6cgNKr2EJVpCe9L2kGJ"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleProcessorDiamondLib.sol":{"keccak256":"0x4f3304bb346213363e449b7a6a5640a81509f5b10ff8abbb36b1796c1e5439e1","urls":["bzz-raw://583b9bf9cbcbd134875a1d7ce8809849a1ce03cd79e42f06a2a44eb8416e62ba","dweb:/ipfs/QmVu2qRJ5DNeGUjgbh7otHTZGgLJkqMa19fhhXC79Y1yPU"],"license":"BUSL-1.1"},"src/protocol/economic/ruleProcessor/RuleStoragePositionLib.sol":{"keccak256":"0x3a7e2705657b1fc86e8c9e8f8289046eed8bcba7bbe251fa2f82ffd04e51c921","urls":["bzz-raw://c8243b84f3abaf3bd4cea14b3f51fba6924ab273662cac7c43ea27a8658f96e1","dweb:/ipfs/QmdtjHsgr9o6VZ8F6XcJm7U5nQUZej9PB61HDTrdGbMnAY"],"license":"BUSL-1.1"}},"version":1},"id":6}